print(":started loading:")
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/Consistt/Ui/main/UnLeaked"))()
local Light = game:GetService("Lighting")
local esplib = loadstring(game:HttpGet("https://raw.githubusercontent.com/ACHS-A-A125/esp-On/refs/heads/main/On"))()
local flight = loadstring(game:HttpGet("https://raw.githubusercontent.com/ACHS-A-A125/esp-On/refs/heads/main/off"))()
local ts = game:GetService("TeleportService")
local p = game:GetService("Players").LocalPlayer

local Players = game:GetService("Players")
local playerList = {}

library.rank = "developer"
local Wm = library:Watermark("Phenux | v1.00 | " .. library:GetUsername() )
local FpsWm = Wm:AddWatermark("fps: " .. library.fps)

coroutine.wrap(function()
    while wait(0.75) do
        FpsWm:Text("fps: " .. library.fps)
        
        playerList = {}
        for _, player in ipairs(Players:GetPlayers()) do
            table.insert(playerList, player.Name)
        end
    end
end)()

----- save the fb
local originalSettings = {
    Ambient = Light.Ambient,
    ColorShift_Bottom = Light.ColorShift_Bottom,
    ColorShift_Top = Light.ColorShift_Top
}
-----a 
 
-- functions
function dofullbright()
Light.Ambient = Color3.new(1, 1, 1)
Light.ColorShift_Bottom = Color3.new(1, 1, 1)
Light.ColorShift_Top = Color3.new(1, 1, 1)
end

function nonoFullbright()
    Light.Ambient = originalSettings.Ambient
    Light.ColorShift_Bottom = originalSettings.ColorShift_Bottom
    Light.ColorShift_Top = originalSettings.ColorShift_Top
end
--------

local Notif = library:InitNotifications()

for i = 2,0,-1 do 
    task.wait(0.3)
    local LoadingXSX = Notif:Notify("Loading xsx lib v2, please be patient.", 3, "information") -- notification, alert, error, success, information
end 

library.title = "Phenux"


library:Introduction()
wait(1)
local Init = library:Init()



local TPlay = Init:NewTab("Player")


local Flytoggle = TPlay:NewToggle("Flight", false, function(value)
    if value then
        startFly()
    else
        stopFly()
    end
end)



local Flyslider = TPlay:NewSlider("Slider 1", "", true, "/", {min = 10, max = 500, default = 50}, function(value)
    _G.flySpeed = value
end)



local TPlays = Init:NewTab("Players")

local TFarm = Init:NewTab("Farms")

local TSee = Init:NewTab("Visual")  -- done for now

local FBtoggle = TSee:NewToggle("FullBright", false, function(value)
    if value then
        dofullbright()
    else
        nonoFullbright()
    end
end)


local EspToggle = TSee:NewToggle("Esp", false, function(value)
    if value then
        EnableESP()
    else
        DisableESP()
    end
end)




local TMisc = Init:NewTab("Misc")




local Rejoin = TMisc:NewButton("Rejoin", function()
    -- Queue the script to run again after teleport
    if syn then
        syn.queue_on_teleport([[
            loadstring(game:HttpGet("https://raw.githubusercontent.com/ACHS-A-A125/full-script/refs/heads/main/script"))()
        ]])
    elseif queue_on_teleport then
        queue_on_teleport([[
            loadstring(game:HttpGet("https://raw.githubusercontent.com/ACHS-A-A125/full-script/refs/heads/main/script"))()
        ]])
    end

    -- Teleport to the same server
    ts:Teleport(game.PlaceId, plr)
end)

local Nogui = TMisc:NewButton("Close GUI", function()
    Init:Remove()  -- destroys the UI
end)
